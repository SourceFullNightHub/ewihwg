function isnil(thing)
    return (thing == nil)
end
local function round(n)
    return math.floor(tonumber(n) + 0.5)
end
Number = math.random(1, 1000000)
function ESPPlayers()
    for i, v in pairs(game:GetService("Players"):GetPlayers()) do
                if not isnil(v.Character) then
                    if _G.S.ESPPly then
                        if not isnil(v.Character.Head) and not v.Character.Head:FindFirstChild("ESP Players" .. Number) then
                            local BillboardGui = Instance.new("BillboardGui", v.Character.Head)
                            BillboardGui.Name = "ESP Players" .. Number
                            BillboardGui.ExtentsOffset = Vector3.new(0, 1, 0)
                            BillboardGui.Size = UDim2.new(1, 200, 1, 30)
                            BillboardGui.Adornee = v.Character.Head
                            BillboardGui.AlwaysOnTop = true
                            local NamePlayers = Instance.new("TextLabel", BillboardGui)
                            NamePlayers.Font = Enum.Font.GothamSemibold
                            NamePlayers.FontSize = "Size14"
                            NamePlayers.TextWrapped = true
                            NamePlayers.Text =
                                ("["..v.Name .. "]"..
                                        "[" ..
                                            v.Team .. "]"..
                                                "\n[Health : " ..
                                                    round(
                                                        v.Character.Humanoid.Health * 100 /
                                                            v.Character.Humanoid.MaxHealth
                                                    ).. "]")
                            NamePlayers.Size = UDim2.new(1, 0, 1, 0)
                            NamePlayers.TextYAlignment = "Top"
                            NamePlayers.BackgroundTransparency = 1
                            NamePlayers.TextStrokeTransparency = 0.5
                            NamePlayers.TextColor3 = Color3.fromRGB(255, 0, 191)
                        else
                            v.Character.Head["ESP Players" .. Number].TextLabel.Text =
                            "["..v.Name .. "]"..
                                        "[" ..
                                            v.Team .. "]"..
                                                "\n[Health : " ..
                                                    round(
                                                        v.Character.Humanoid.Health
                                                    ).. "]"
                        end
                    else
                        if v.Character.Head:FindFirstChild("ESP Players" .. Number) then
                            v.Character.Head:FindFirstChild("ESP Players" .. Number):Destroy()
                        end
                    end
                end
    end
end
spawn(function()
    while wait() do
        ESPPlayers()
    end
end)
